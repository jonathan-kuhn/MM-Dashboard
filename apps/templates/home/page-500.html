{% extends "layouts/base-fullscreen.html" %}

{% block title %} Error 500 {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <div class="content">
        <div class="container">
            <div class="row pt-5">
                <div class="col-md-6 mt-5 offset-md-3 pt-5 mt-5">
                    <div class="card">
                        <div class="card-header text-center py-4">
                            <h3 class="title">
                                Error 500
                            </h3>
                        </div>
                        <div class="card-body px-2 py-2">

                            <p class="text-center" id="error"></p>
                            <p class="text-center">
                                Include this timestamp: <br/><br/>[{% now "d/M/Y H:i:s" %}]
                            </p>

                        </div>
                        <div class="card-footer text-center">
                            <a href="/" class="btn btn-fill btn-primary">HOME</a>
                            
                            <br /><br />


                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>

{% endblock content %}

{% block javascripts %}
<script>
    function setError(){
        const searchParams = new URLSearchParams(window.location.search);
        var errorElement = document.getElementById('error');
        if (searchParams.has('error')){
            errorElement.innerText = searchParams.get('error') + " - Please contact support." ;
        } else {
            errorElement.innerText = "Server ERROR - Please contact support."
        }

    }

    document.addEventListener('DOMContentLoaded', function() {
        setError();
    });
</script>
{% endblock javascripts %}
